
# http

https://medium.com/@shlee1353/http1-1-vs-http2-0-%EC%B0%A8%EC%9D%B4%EC%A0%90-%EA%B0%84%EB%8B%A8%ED%9E%88-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0-5727b7499b78

## http/1.0
- rtt  증가
    rtt란 패킷이 목적에 도달하고 나서 다시 출발지로 돌아오기까지 걸리는 시간 패킷 왕복시간

- rtt 해결 방법
이미지 스프리팅, 코드 압축, 이미지  Base64 인코딩

## http/1.1
매번 tcp 연결이 아닌 한번 tcp 초기화 후 keep-alive를 표준화로 사용
하지만 문서 안에 다수의 리소스( 이미지,  css, js)를 처리하려면 요청할 리소스 개수에 비례하여 대기 시간 증가

- HOL Blocking
첫번째 패킷이 지연될 때 발생하는 성능 저하

- 무거운 헤더 구조 
헤더에 쿠키 등 많은 메타 데이터 함유, 압축 되지 않아 무거움

## http/2.0
SPDY 프로토콜에서 파생 
지연시간 줄이고 응답시간 빨라짐
멀티 플렉싱, 헤더 압축, 서버푸시, 요청 우선순위 처리 지원 

- 멀티 플렉싱 
여러 개의 스트림 송수신 ->  hol blocking 해결

- 헤더 압축
허프만 코딩 압축 알고리즘 사용

- 서버 푸시 
1.1에서는 클라이언트가 서버에 요청해야만 파일 다운, 
2는 요청없이 바로 서버가 리소스를 푸시할수 있음
ex) html 를 읽으면 css파일을 서버에서 바로 푸시 

## https 구축방법
직접 ca에서 구매한 인증키를 기반 서비스 구축
https를 제공하는 로드배런서
cdn 구축

## http/3
tcp가 아닌 quic 라는 계층에서 돌며 udp 기반
http/2 초기 연결시 지연시간 감소라는 장점이 있음

1-rtt로 해결
quic의 순방향 오류 수정 메커니즘 (FEC) 적용 수신 측에서 에러검출 수정방식 
열악한 네트워크환경에서 낮은 패킷 손실률
